<div class="reset-password-container">
  <div class="reset-password-box">
    <h2>Reset Your Password</h2>
    <p>Please enter your new password below.</p>

    <!-- Feedback Message -->
    <div *ngIf="message" [ngClass]="{ success: success, error: !success }" class="message-box">
      {{ message }}
    </div>

    <!-- Reset Form -->
    <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" *ngIf="!success">
      <!-- New Password Field -->
      <div class="form-group password-group">
        <label for="newPassword">New Password</label>
        <div class="password-input">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="newPassword"
            placeholder="Enter new password"
            formControlName="newPassword"
            (input)="checkPasswordStrength()"
            required
          />
          <button type="button" class="toggle-btn" (click)="toggleShowPassword()">
            {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
          </button>
        </div>

        <!-- Password Strength Bar -->
        <div class="strength-meter">
          <div [ngClass]="strengthClass" class="strength-bar"></div>
        </div>
        <small class="strength-text">{{ strengthMessage }}</small>

        <small
          *ngIf="resetForm.controls['newPassword'].touched && resetForm.controls['newPassword'].invalid"
          class="error"
        >
          Password must be at least 6 characters.
        </small>
      </div>

      <!-- Confirm Password -->
      <div class="form-group password-group">
        <label for="confirmPassword">Confirm Password</label>
        <div class="password-input">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="confirmPassword"
            placeholder="Confirm new password"
            formControlName="confirmPassword"
            required
          />
          <button type="button" class="toggle-btn" (click)="toggleShowConfirmPassword()">
            {{ showConfirmPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
          </button>
        </div>

        <small
          *ngIf="resetForm.controls['confirmPassword'].touched && resetForm.controls['confirmPassword'].invalid"
          class="error"
        >
          Please confirm your password.
        </small>
      </div>

      <!-- Submit -->
      <button type="submit" [disabled]="loading">
        {{ loading ? 'Resetting...' : 'Reset Password' }}
      </button>
    </form>

    <!-- After Success -->
    <div *ngIf="success" class="after-success">
      <button class="btn-login" (click)="goToLogin()">Go to Login</button>
    </div>
  </div>
</div>
